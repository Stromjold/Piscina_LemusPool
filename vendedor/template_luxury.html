<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury - Plantilla Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/luxury.css">
    <style>
        /* Darker Luxury calendar styles */
        /* Ensure the calendario section background is dark to contrast with the site */
        #calendario.section, #calendario.section.bg-light { background: transparent; }
        #calendario { color: #efe9df; padding: 40px 0; }
        #calendario .calendar-header { display:flex; align-items:center; justify-content:center; gap:22px; margin-bottom:22px; }
        #calendario .calendar-title { font-weight:700; margin:0; color:#d4b88a; font-family: 'Playfair Display', serif; font-size:1.6rem; }
        #calendario .nav-btn { background:#0d0d0d; border:1px solid rgba(255,255,255,0.06); padding:10px 14px; border-radius:10px; color:#f6eecd; box-shadow:0 4px 18px rgba(0,0,0,0.45); }
        #calendario .nav-btn:hover { background:#161616; transform:translateY(-1px); }

        /* Dark card for the calendar grid to increase contrast */
        #calendario .calendar-container { display:grid; grid-template-columns:repeat(7,1fr); gap:12px; padding:18px; background:linear-gradient(180deg, rgba(15,15,15,0.85), rgba(25,25,25,0.75)); border-radius:14px; border:1px solid rgba(255,255,255,0.04); box-shadow:0 10px 30px rgba(0,0,0,0.6); }

        #calendario .calendar-day-header { text-align:center; font-weight:700; padding:10px 0; color:#dcd3c3; opacity:0.95; }

        /* Day cells - darker and clearer */
        #calendario .calendar-admin-day { min-height:78px; border-radius:10px; padding:12px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); display:flex; flex-direction:column; justify-content:space-between; cursor:pointer; color:#efe9df; transition:all .15s ease; }
        #calendario .calendar-admin-day:hover { transform:translateY(-4px); box-shadow:0 6px 18px rgba(0,0,0,0.6); }
        #calendario .calendar-admin-day .day-number { font-weight:700; color:#fff; font-size:1rem; }
        #calendario .calendar-admin-day .day-status { font-size:12px; color:#cdbb91; }

        /* Occupied - prominent deep red with glow */
        #calendario .calendar-admin-day.occupied { background:linear-gradient(90deg, rgba(150,20,20,0.12), rgba(120,10,10,0.06)); border-color:rgba(220,60,60,0.35); box-shadow:0 6px 20px rgba(180,30,30,0.12) inset; }
        #calendario .calendar-admin-day.occupied .day-status { color:#ffdddd; }

        /* Make section background darker than page's bg-light */
        #calendario.section.bg-light { background: linear-gradient(180deg, rgba(8,8,8,0.9), rgba(18,18,18,0.9)); }

        @media (max-width:768px) { #calendario .calendar-container { grid-template-columns:repeat(7,1fr); } }
    </style>
</head>
<body class="template-luxury">

    <!-- Hero Section -->
    <header class="vh-100 d-flex align-items-center text-white" style="background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('Image/image1.jpg') no-repeat center center; background-size: cover;">
        <div class="container text-center">
            <h1 class="display-2" style="font-family: 'Playfair Display', serif;">Exclusividad y Confort</h1>
            <p class="lead fs-4" style="font-family: 'Roboto', sans-serif;">Una experiencia inigualable en un entorno de lujo y serenidad.</p>
        </div>
    </header>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #1a1a1a;">
        <div class="container">
            <a class="navbar-brand" style="font-family: 'Playfair Display', serif;" href="#!">LUXURY</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#!">Experiencias</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!">Suites</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!">Gastronomía</a></li>
                    <li class="nav-item"><a class="nav-link" href="#!">Contacto</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" data-site="luxury" data-type="admin">Administración</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="bg-dark text-white py-5">
        <!-- About Section -->
        <section class="container my-5">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <img src="Image/image3.jpg" class="img-fluid" alt="Luxury interior">
                </div>
                <div class="col-lg-6 ps-lg-5">
                    <h2 style="font-family: 'Playfair Display', serif;">Un Santuario Privado</h2>
                    <p class="text-white-50" style="font-family: 'Roboto', sans-serif;">Nuestras instalaciones están diseñadas para ofrecer la máxima privacidad y confort. Cada detalle ha sido cuidadosamente seleccionado para su bienestar. In finibus, erat nec iaculis finibus, erat massa commodo erat, nec malesuada enim justo vel nulla.</p>
                    <a href="#!" class="btn btn-outline-light">Descubrir</a>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section class="container text-center my-5 py-5">
            <h2 class="mb-5" style="font-family: 'Playfair Display', serif;">Servicios de Prestigio</h2>
            <div class="row">
                <div class="col-md-4">
                    <h3>Spa & Wellness</h3>
                    <p class="text-white-50">Tratamientos exclusivos para su relajación.</p>
                </div>
                <div class="col-md-4">
                    <h3>Alta Cocina</h3>
                    <p class="text-white-50">Sabores que deleitan los paladares más exigentes.</p>
                </div>
                <div class="col-md-4">
                    <h3>Atención Personalizada</h3>
                    <p class="text-white-50">Nuestro equipo está a su disposición 24/7.</p>
                </div>
            </div>
        </section>
    </main>

    <section id="calendario" class="section bg-light">
        <div class="container">
            <h2>Disponibilidad</h2>
            <p>Revisa nuestro calendario para ver los días disponibles para tu reserva. Los días en rojo ya están ocupados.</p>
            
            <div class="calendar-header">
                <button class="nav-btn" onclick="changeMonth(-1)" aria-label="Mes anterior" title="Mes anterior"><i class="fas fa-chevron-left"></i></button>
                <h3 id="calendarAdminTitle" class="calendar-title">Mes Año</h3>
                <button class="nav-btn" onclick="changeMonth(1)" aria-label="Mes siguiente" title="Mes siguiente"><i class="fas fa-chevron-right"></i></button>
            </div>
            
            <div id="calendarAdmin" class="calendar-container" aria-live="polite">
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4" style="background-color: #111;">
        <div class="container text-center text-white-50">
            <p class="mb-0">&copy; 2025 Luxury Resorts. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Calendar Management (Luxury theme) - public pages read-only
        let currentMonth = 10; // Noviembre (0-indexed)
        let currentYear = 2025;
        let occupiedDays = {};

        const isAdminPage = /\/administracion\//i.test(window.location.pathname) || /admin_/.test(window.location.pathname) || /admin\.php$/i.test(window.location.pathname);

        function generateCalendarAdmin() {
            const calendar = document.getElementById('calendarAdmin');
            if (!calendar) return;
            calendar.innerHTML = '';
            
            const days = ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'];
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-day-header';
                header.textContent = day;
                calendar.appendChild(header);
            });
            
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            
            for (let i = 0; i < firstDay; i++) {
                const empty = document.createElement('div');
                calendar.appendChild(empty);
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-admin-day';
                const key = `${currentYear}-${currentMonth}-${day}`;
                
                if (occupiedDays[key]) {
                    dayEl.classList.add('occupied');
                }
                
                dayEl.innerHTML = `
                    <span class="day-number">${day}</span>
                    <span class="day-status">${occupiedDays[key] ? 'Ocupado' : 'Libre'}</span>
                `;

                if (isAdminPage) {
                    dayEl.style.cursor = 'pointer';
                    dayEl.onclick = () => toggleDay(key, dayEl);
                } else {
                    dayEl.style.cursor = 'default';
                }

                calendar.appendChild(dayEl);
            }
        }

        function toggleDay(key, element) {
            if (!isAdminPage) return;
            occupiedDays[key] = !occupiedDays[key];
            if (occupiedDays[key]) {
                element.classList.add('occupied');
                element.querySelector('.day-status').textContent = 'Ocupado';
            } else {
                element.classList.remove('occupied');
                element.querySelector('.day-status').textContent = 'Libre';
            }
        }

        function changeCalendarMonth(delta) {
            currentMonth += delta;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            } else if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            const title = document.getElementById('calendarAdminTitle');
            if (title) title.textContent = `${months[currentMonth]} ${currentYear}`;
            generateCalendarAdmin();
        }

        // Alias para compatibilidad con onclick existente
        function changeMonth(delta) { changeCalendarMonth(delta); }

        function saveCalendar() {
            if (!isAdminPage) return;
            try {
                localStorage.setItem('admin_occupiedDays', JSON.stringify(occupiedDays));
                alert('Calendario guardado exitosamente');
            } catch(e) {
                console.error(e);
                alert('Error al guardar el calendario.');
            }
        }

        function resetCalendar() {
            if (!isAdminPage) return;
            if (confirm('¿Estás seguro de restablecer el calendario?')) {
                occupiedDays = {};
                localStorage.removeItem('admin_occupiedDays');
                generateCalendarAdmin();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Cargar días ocupados (visibles en público)
            try {
                const raw = localStorage.getItem('admin_occupiedDays');
                if (raw) occupiedDays = JSON.parse(raw);
            } catch (e) { occupiedDays = {}; }

            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            const title = document.getElementById('calendarAdminTitle');
            if (title) title.textContent = `${months[currentMonth]} ${currentYear}`;
            generateCalendarAdmin();

            if (!isAdminPage) {
                // desactivar botones inline
                document.querySelectorAll('#calendario .nav-btn[onclick], .calendar-header .nav-btn[onclick]').forEach(btn => {
                    try { btn.removeAttribute('onclick'); btn.disabled = true; btn.style.cursor = 'default'; } catch(e){}
                });
            }
        });
    </script>
    <script src="Direccion/controlador.js"></script>
</body>
</html>
