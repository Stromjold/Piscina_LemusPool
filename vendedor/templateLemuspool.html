<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LemusPool</title>
    <link rel="stylesheet" href="css/Page_P.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Calendario: estilo claro y sin sombras, similar a la maqueta proporcionada */
        .calendar-admin-container{
            background: #ffffff;
            padding: 18px;
            border-radius: 10px;
            color: #222;
            border: 1px solid #e9e9e9;
            box-shadow: none !important;
        }

        /* Encabezado */
        .calendar-admin-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:14px}
        .calendar-admin-controls{display:flex;gap:10px;align-items:center}
        .calendar-admin-title{font-weight:700;margin:0;font-size:1.1rem;color:#0d6efd}

        .nav-btn-admin{background:#f8f9fa;border:1px solid #e6e6e6;color:#333;padding:6px 10px;border-radius:6px;cursor:pointer}
        .nav-btn-admin i{font-size:0.9rem}

        .btn-admin-action{border:1px solid #dcdcdc;color:#fff;padding:.4rem .75rem;border-radius:6px;cursor:pointer;font-weight:600}
        .btn-admin-save{background:#28a745;border-color:#28a745}
        .btn-admin-reset{background:#f1f1f1;color:#333;border-color:#e6e6e6}

        /* Grid */
        #calendarAdmin{display:grid;grid-template-columns:repeat(7,1fr);gap:18px}
        .calendar-day-header{font-size:.85rem;text-align:center;color:#888;padding:6px;font-weight:700;background:transparent}

        .calendar-admin-empty{height:100px;background:transparent}

        .calendar-admin-day{
            background: #fff;
            border: 1px solid #eee;
            min-height: 100px;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            display:flex;
            flex-direction:column;
            justify-content:space-between;
            align-items:flex-end;
            box-shadow: none !important;
            transition: none;
        }

        .calendar-admin-day .day-number{font-weight:700;font-size:1.2rem;color:#222;align-self:flex-end}
        .day-status{font-size:.75rem;color:#777;align-self:flex-start}

        /* Ocupado */
        .calendar-admin-day.occupied{
            background: #fff0f0;
            border: 2px solid #f5b3b3;
            color: #a00;
        }

    /* quita cualquier sombra heredada */
    .calendar-admin-container, .calendar-admin-container * { -webkit-box-shadow: none !important; box-shadow: none !important; }

        @media (max-width: 767px){
            #calendarAdmin{gap:10px}
            .calendar-admin-empty{height:70px}
            .calendar-admin-day{min-height:74px;padding:10px}
        }
        /* pequeños estilos auxiliares */
        .follow-text{margin-top:20px;color:#333}
        .map-container iframe{border:0}
    </style>
    </head>
    <body>
   
    <header id="portada" class="hero">
        <nav class="navbar-top">
            
            
            <div class="nav-links-top">
                <a href="#portada">Portada</a>
                <a href="#principal">Principal</a>
                <a href="#calendario">Calendario</a>
                <a href="#servicios">Servicios</a>
                <a href="#contacto">Contacto</a>
                <a href="login_cliente.html">Área de Cliente</a>
                <a href="plantillas.html">Plantillas</a>
            </div>
        </nav>
        
        <div class="hero-content">
            <div class="logo"><img src="Image/Logo.png" alt="LemusPool Logo"></div>
            <a href="#contacto" class="cta-button">CONTÁCTANOS</a>
        </div>
        <a href="#principal" class="scroll-down"><i class="fas fa-chevron-down"></i></a>
    </header>

    <section id="principal" class="section">
        <div class="container">
            <div class="about-us-content">
                <h2>SOBRE NOSOTROS</h2>
                <div class="about-grid">                    
                    <div class="text-content">
                        <p>Nosotros somos <strong>Lemus Pool</strong> y estamos por finalizar nuestra especialidad en Programación y Análisis de Sistemas. Con más de dos años de experiencia, queremos presentarles nuestro sitio web, el cual ofrece un servicio de <strong>alojamiento con piscina</strong>. Buscamos entregar la mejor experiencia de hospedaje, y por eso, a través del sitio web también ofrecemos un recorrido virtual por los lugares más emblemáticos de Catemu. Todo esto está incluido junto al uso de la piscina.</p>
                        <p>Una de nuestras principales ventajas es la <strong>buena comunicación con nuestros clientes</strong>: entregamos el número de contacto del propietario para resolver cualquier duda, inconveniente o disconformidad. Además, contamos con una de las <strong>tasas de cancelación más bajas de Catemu</strong>: aproximadamente un 6%. Esto se debe a nuestro compromiso con la satisfacción del cliente, ofreciendo reducciones de precio en caso de inconvenientes ajenos al huésped, encuestas de satisfacción y mejoras constantes basadas en sus opiniones.</p>
                        <p>En resumen, Lemus Pool es una excelente opción para vacacionar en familia o con amigos, en un ambiente cómodo, confiable y con atención personalizada.</p>
                    </div>
                </div>
            </div>
            
            <div class="grid-images" style="margin-top: 50px;">
                <div class="image-item">
                    <img src="Image/image4.jpg" alt="Amplia zona de solárium">
                    <p>Cocina</p>
                </div>
                <div class="image-item">
                    <img src="Image/Image5.png" alt="Espacio para juegos">
                    <p>Espacio para juegos</p>
                </div>
                <div class="image-item">
                    <img src="Image/Image2.jpg" alt="Piscina con todas las medidas de seguridad">
                    <p>Espacio para descansar</p>
                </div>
            </div>
        </div>
    </section>

    <section id="servicios" class="section bg-lig   ht">
        <div class="container">
            <h2>Nuestros Servicios y Precios</h2>
            <div class="services-grid">
                <div class="service-item">
                    <h3>Entrada General</h3>
                    <p class="price">$8.500 por persona</p>
                    <ul>
                        <li>Acceso a la piscina todo el día</li>
                        <li>Uso de áreas de descanso</li>
                        <li>Acceso a baños y duchas</li>
                    </ul>
                </div>
                <div class="service-item">
                    <h3>Paquete Familiar</h3>
                    <p class="price">$120.000 (por el dia)</p>
                    <ul>
                        <li>Acceso ilimitado para 30 personas</li>
                        <li>Incluye arriendo de quitasol</li>
                        <li>Descuento en snacks y bebidas</li>
                    </ul>
                </div>
                <div class="service-item">
                    <h3>Arriendo para Eventos</h3>
                    <p class="price">Consulte precios</p>
                    <ul>
                        <li>Reserva privada de la piscina</li>
                        <li>Ideal para cumpleaños y fiestas</li>
                        <li>Horario extendido</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="calendario" class="section bg-light">
        <div class="container">
            <h2>Disponibilidad</h2>
            <p>Revisa nuestro calendario para ver los días disponibles para tu reserva. Los días en rojo ya están ocupados.</p>
            
            <div class="calendar-admin-container">
                <div class="calendar-admin-header">
                    <div class="calendar-admin-controls">
                        <button id="prevMonthAdmin" class="nav-btn-admin" aria-label="Mes anterior"><i class="fas fa-chevron-left"></i></button>
                        <h3 id="calendarAdminTitle" class="calendar-admin-title">Noviembre 2025</h3>
                        <button id="nextMonthAdmin" class="nav-btn-admin" aria-label="Mes siguiente"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-admin-controls">
                        <button id="saveCalendarBtn" class="btn-admin-action btn-admin-save">Guardar</button>
                        <button id="resetCalendarBtn" class="btn-admin-action">Restablecer</button>
                    </div>
                </div>

                <div id="calendarAdmin">
                    <!-- Cabeceras y días generados por JS -->
                </div>
            </div>
        </div>
    </section>

    <section id="contacto" class="section">
        <div class="container">
            <h2>Contáctanos y Reserva</h2>
            
            <div class="contact-grid">
                <div class="contact-form-container">
                    <h3>Envíanos un mensaje</h3>
                    <form id="contactForm" class="contact-form" action="php/contact.php" method="POST">
                        <input type="text" id="contactName" name="name" placeholder="Tu Nombre" required>
                        <input type="email" id="contactEmail" name="email" placeholder="Tu Correo Electrónico" required>
                        <input type="tel" id="contactPhone" name="phone" placeholder="Tu Teléfono (Opcional)">
                        <textarea id="contactMessage" name="message" placeholder="Tu Mensaje o Consulta" rows="5" required></textarea>
                        <button type="submit" class="cta-button">Enviar Mensaje</button>
                    </form>
                </div>

                <div class="location-details">
                    <h3>Nuestra Ubicación</h3>
                    <div class="map-container">
                        <iframe 
                            title="Mapa LemusPool"
                            src="https://maps.google.com/maps?q=-32.76512333287351,-70.96777830684546&hl=es&z=14&output=embed"
                            width="100%" height="300" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                    
                    <p class="follow-text">Síguenos en nuestras redes sociales o llámanos directamente:</p>
                    <div class="social-links">
                        <a href="https://wa.me/tu-numero" target="_blank" rel="noopener noreferrer" class="social-icon whatsapp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://www.instagram.com/tu-usuario" target="_blank" rel="noopener noreferrer" class="social-icon instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.tiktok.com/@tu-usuario" target="_blank" rel="noopener noreferrer" class="social-icon tiktok" title="TikTok"><i class="fab fa-tiktok"></i></a>
                        <a href="https://www.facebook.com/tu-usuario" target="_blank" rel="noopener noreferrer" class="social-icon facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>© 2024 Piscina Tio Leo. Todos los derechos reservados.</p>
            <p class="legal-links"><a href="#">Política de Privacidad</a> | <a href="#">Términos y Condiciones</a></p>
        </div>
    </footer>

    <script src="js/Js/reservas.js"></script>
    <script src="js/Js/Page_P.js"></script>
    <script>
        // Calendar Management (public template: modo solo lectura por defecto)
        let currentMonth = 10; // Noviembre (0-based)
        let currentYear = 2025;
        let occupiedDays = {};

        // Detectar si la página actual es la de administración.
        // Esto permite reutilizar el mismo código en la página admin si se copia aquí,
        // pero por defecto la plantilla pública mostrará el calendario en solo lectura.
        const isAdminPage = /admin_lemuspool\.html$/i.test(window.location.pathname) || window.location.pathname.includes('/administracion/');

        function loadOccupiedDays() {
            try {
                const raw = localStorage.getItem('admin_occupiedDays');
                if (raw) occupiedDays = JSON.parse(raw);
            } catch (e) {
                console.error('Error cargando occupiedDays:', e);
                occupiedDays = {};
            }
        }

        function generateCalendarAdmin() {
            const calendar = document.getElementById('calendarAdmin');
            calendar.innerHTML = '';
            
            const days = ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'];
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-day-header';
                header.textContent = day;
                calendar.appendChild(header);
            });
            
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            
            for (let i = 0; i < firstDay; i++) {
                const empty = document.createElement('div');
                empty.className = 'calendar-admin-empty';
                calendar.appendChild(empty);
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-admin-day';
                const key = `${currentYear}-${currentMonth}-${day}`;
                
                if (occupiedDays[key]) {
                    dayEl.classList.add('occupied');
                }
                
                dayEl.innerHTML = `
                    <span class="day-number">${day}</span>
                    <span class="day-status">${occupiedDays[key] ? 'Ocupado' : 'Libre'}</span>
                `;

                // Solo permitir alternar (editar) si estamos en la página de administración
                if (isAdminPage) {
                    dayEl.style.cursor = 'pointer';
                    dayEl.onclick = () => toggleDay(key, dayEl);
                } else {
                    // Modo solo lectura: desactivar el cursor de puntero
                    dayEl.style.cursor = 'default';
                }

                calendar.appendChild(dayEl);
            }
        }

        function toggleDay(key, element) {
            // Solo permitir si es admin
            if (!isAdminPage) return;

            occupiedDays[key] = !occupiedDays[key];
            if (occupiedDays[key]) {
                element.classList.add('occupied');
                element.querySelector('.day-status').textContent = 'Ocupado';
            } else {
                delete occupiedDays[key];
                element.classList.remove('occupied');
                element.querySelector('.day-status').textContent = 'Libre';
            }
        }

        function changeCalendarMonth(delta) {
            currentMonth += delta;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            } else if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            document.getElementById('calendarAdminTitle').textContent = `${months[currentMonth]} ${currentYear}`;
            generateCalendarAdmin();
        }

        function saveCalendar() {
            if (!isAdminPage) return;
            try {
                localStorage.setItem('admin_occupiedDays', JSON.stringify(occupiedDays));
                alert('Calendario guardado exitosamente');
            } catch (e) {
                console.error(e);
                alert('Error al guardar el calendario.');
            }
        }

        function resetCalendar() {
            if (!isAdminPage) return;
            if (confirm('¿Estás seguro de restablecer el calendario?')) {
                occupiedDays = {};
                localStorage.removeItem('admin_occupiedDays');
                generateCalendarAdmin();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadOccupiedDays();
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            document.getElementById('calendarAdminTitle').textContent = `${months[currentMonth]} ${currentYear}`;
            generateCalendarAdmin();

            // Si no es admin, ocultar controles y no adjuntar listeners de edición
            const prevBtn = document.getElementById('prevMonthAdmin');
            const nextBtn = document.getElementById('nextMonthAdmin');
            const saveBtn = document.getElementById('saveCalendarBtn');
            const resetBtn = document.getElementById('resetCalendarBtn');

            if (isAdminPage) {
                prevBtn.addEventListener('click', () => changeCalendarMonth(-1));
                nextBtn.addEventListener('click', () => changeCalendarMonth(1));
                saveBtn.addEventListener('click', saveCalendar);
                resetBtn.addEventListener('click', resetCalendar);
            } else {
                // ocultar controles para usuarios públicos
                if (prevBtn) prevBtn.style.display = 'none';
                if (nextBtn) nextBtn.style.display = 'none';
                if (saveBtn) saveBtn.style.display = 'none';
                if (resetBtn) resetBtn.style.display = 'none';
            }
        });
    
        const urlParams = new URLSearchParams(window.location.search);
        const success = urlParams.get('success');
        const error = urlParams.get('error');
        const contactForm = document.getElementById('contactForm');

        if (success) {
            const successMessage = document.createElement('p');
            successMessage.textContent = '¡Mensaje enviado con éxito!';
            successMessage.style.color = 'green';
            contactForm.parentNode.insertBefore(successMessage, contactForm.nextSibling);
        }

        if (error) {
            const errorMessage = document.createElement('p');
            errorMessage.textContent = 'Hubo un error al enviar el mensaje. Inténtalo de nuevo.';
            errorMessage.style.color = 'red';
            contactForm.parentNode.insertBefore(errorMessage, contactForm.nextSibling);
        }
    </script>
</body>
</html>