<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tropical - Plantilla Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/plantillas_css/tropical.css">
    <style>
        /* Estilos integrados para calendario - Tropical */
        .calendar-admin-container{background:linear-gradient(180deg,#06241a,rgba(255,255,255,0.02));padding:20px;border-radius:12px;color:#fff}
        .calendar-admin-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
        .calendar-admin-controls{display:flex;gap:8px;align-items:center}
        .calendar-admin-title{font-weight:700;margin:0;font-size:1.25rem}
        .nav-btn-admin{background:#064e3b;border:0;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer}
        #calendarAdmin{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
        .calendar-day-header{font-size:.8rem;text-align:center;color:#cde9d6;padding:6px}
        .calendar-admin-empty{height:70px;background:transparent}
        .calendar-admin-day{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.04);min-height:70px;padding:6px;border-radius:8px;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between}
        .calendar-admin-day .day-number{font-weight:700}
        .day-status{font-size:.75rem;color:#9edbbf}
        .calendar-admin-day.occupied{background:linear-gradient(90deg,#f59e0b33,#10b98133);border-color:#f59e0b}
        .btn-admin-action{background:#ef4444;border:0;color:#fff;padding:.5rem .75rem;border-radius:8px;cursor:pointer}
        .btn-admin-save{background:#10b981}
        @media (max-width:767px){#calendarAdmin .calendar-day-header{font-size:.7rem}}
    </style>
</head>
<body class="template-tropical">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-tropical sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#inicio">üå¥ TropicalVibes</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTropical" aria-controls="navbarTropical" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTropical">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="#inicio">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#atracciones">Atracciones</a></li>
                    <li class="nav-item"><a class="nav-link" href="#comida">Comida</a></li>
                    <li class="nav-item"><a class="nav-link" href="#reservar">Reservar</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
                    <li class="nav-item"><a class="nav-link" href="../vendedor/administracion/admin_tropical.html">Administraci√≥n</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="inicio" class="text-white text-center py-5 hero-section">
        <div class="container py-5">
            <h1 class="display-3 fw-bold">¬°Sum√©rgete en la Diversi√≥n!</h1>
            <p class="lead">Tu para√≠so tropical te espera con las mejores olas y el mejor ambiente.</p>
        </div>
    </header>

    <!-- Services Section -->
    <main class="container my-5">
        <section id="atracciones" class="text-center mb-5">
            <h2 class="fw-bold">Nuestras Actividades</h2>
            <p class="text-muted">Tenemos algo para todos en la familia.</p>
        </section>

        <section class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="card border-0 shadow-lg h-100">
                    <div class="card-body p-5">
                        <h3 class="fw-bold">Toboganes</h3>
                        <p>Adrenalina pura en nuestros toboganes de alta velocidad. ¬°Desl√≠zate hacia la diversi√≥n!</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card border-0 shadow-lg h-100">
                    <div class="card-body p-5">
                        <h3 class="fw-bold">Piscina de Olas</h3>
                        <p>Siente la emoci√≥n del mar en nuestra incre√≠ble piscina de olas artificiales.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card border-0 shadow-lg h-100">
                    <div class="card-body p-5">
                        <h3 class="fw-bold">Zona Infantil</h3>
                        <p>Un √°rea segura y divertida para que los m√°s peque√±os jueguen sin parar.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Gallery -->
        <section class="my-5">
            <div class="row g-3">
                <div class="col-6 col-md-3"><img src="https://i.pinimg.com/736x/c4/d6/e2/c4d6e2d8fda0e7e0f5f909013ba0d501.jpg" class="img-fluid" alt="Tropical 1"></div>
                <div class="col-6 col-md-3"><img src="https://i.pinimg.com/474x/a8/76/25/a876254e42d982820460037535785386.jpg" class="img-fluid" alt="Tropical 2"></div>
                <div class="col-6 col-md-3"><img src="https://img.freepik.com/fotos-premium/hermosas-piscinas-tropicales-hoteles-o-resorts-palmeras-paraguas-vista-piscina-infinita_1048944-24306916.jpg" class="img-fluid" alt="Tropical 3"></div>
                <div class="col-6 col-md-3"><img src="https://i.pinimg.com/736x/3d/ee/9f/3dee9f80f4856da9c67ac4a1185c00c4.jpg" class="img-fluid" alt="Tropical 4"></div>
            </div>
        </section>
    </main>

    <!-- Food Section -->
    <section id="comida" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Sabores Tropicales</h2>
                <p class="text-muted">Recarga energ√≠as con nuestras deliciosas opciones de comida y bebida.</p>
            </div>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card border-0 shadow-lg h-100">
                        <div class="row g-0">
                            <div class="col-md-5">
                                <img src="https://content-cocina.lecturas.com/medio/2021/08/26/ensalada-tropical-de-arroz-con-gambas-pina-y-curry_7be9a995_600x600.jpg" class="img-fluid rounded-start" alt="Comida Tropical">
                            </div>
                            <div class="col-md-7">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Men√∫ del D√≠a</h5>
                                    <p class="card-text">Platos frescos y variados para todos los gustos. Incluye bebida y postre.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card border-0 shadow-lg h-100">
                        <div class="row g-0">
                            <div class="col-md-5">
                                <img src="https://www.shutterstock.com/image-photo/tropical-drinks-caribbean-beach-mexico-260nw-1204974886.jpg" class="img-fluid rounded-start" alt="Bebidas Tropicales">
                            </div>
                            <div class="col-md-7">
                                <div class="card-body">
                                    <h5 class="card-title fw-bold">Barra de Jugos</h5>
                                    <p class="card-text">Refrescantes jugos naturales y c√≥cteles para combatir el calor.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="reservar" class="section">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title-neon">Disponibilidad</h2>
                <p>Revisa nuestro calendario para ver los d√≠as disponibles para tu reserva.</p>
            </div>
            
            <div class="calendar-admin-container mt-4">
                <div class="calendar-admin-header">
                    <div class="calendar-admin-controls">
                        <button id="prevMonthAdmin" class="nav-btn-admin" aria-label="Mes anterior"><i class="fas fa-chevron-left"></i></button>
                        <h3 id="calendarAdminTitle" class="calendar-admin-title">Noviembre 2025</h3>
                        <button id="nextMonthAdmin" class="nav-btn-admin" aria-label="Mes siguiente"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-admin-controls">
                        <button id="saveCalendarBtn" class="btn-admin-action btn-admin-save">Guardar</button>
                        <button id="resetCalendarBtn" class="btn-admin-action">Restablecer</button>
                    </div>
                </div>

                <div id="calendarAdmin">
                    <!-- Cabeceras y d√≠as generados por JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contacto" class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Cont√°ctanos</h2>
                <p class="text-muted">¬øTienes preguntas? Estamos aqu√≠ para ayudarte.</p>
            </div>
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <form>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="Nombre" required>
                            </div>
                            <div class="col-md-6">
                                <input type="email" class="form-control" placeholder="Correo Electr√≥nico" required>
                            </div>
                            <div class="col-12">
                                <textarea class="form-control" rows="5" placeholder="Tu Mensaje" required></textarea>
                            </div>
                            <div class="col-12 text-center">
                                <button type="submit" class="btn btn-primary btn-lg px-5">Enviar Mensaje</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center py-4 footer-tropical">
        <div class="container">
            <p class="mb-0">üå¥ TropicalVibes &copy; 2025 - ¬°Vive el Verano!</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/Js/reservas.js"></script>
    <script src="js/Js/calendar.js"></script>
    <script>
        // Calendar Management (read-only in public templates)
        let currentMonth = 10; // Noviembre (0-based)
        let currentYear = 2025;
        let occupiedDays = {};

        const isAdminPage = /\/administracion\//i.test(window.location.pathname) || /admin_/.test(window.location.pathname) || /admin\.php$/i.test(window.location.pathname);

        function loadOccupiedDays() {
            try {
                const raw = localStorage.getItem('admin_occupiedDays');
                if (raw) occupiedDays = JSON.parse(raw);
            } catch (e) {
                console.error('Error cargando occupiedDays:', e);
                occupiedDays = {};
            }
        }

        function generateCalendarAdmin() {
            const calendar = document.getElementById('calendarAdmin');
            if (!calendar) return;
            calendar.innerHTML = '';
            
            const days = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'];
            days.forEach(day => {
                const header = document.createElement('div');
                header.className = 'calendar-day-header';
                header.textContent = day;
                calendar.appendChild(header);
            });
            
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            
            for (let i = 0; i < firstDay; i++) {
                const empty = document.createElement('div');
                empty.className = 'calendar-admin-empty';
                calendar.appendChild(empty);
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'calendar-admin-day';
                const key = `${currentYear}-${currentMonth}-${day}`;
                
                if (occupiedDays[key]) {
                    dayEl.classList.add('occupied');
                }
                
                dayEl.innerHTML = `
                    <span class="day-number">${day}</span>
                    <span class="day-status">${occupiedDays[key] ? 'Ocupado' : 'Libre'}</span>
                `;

                // Solo permitir alternar si estamos en admin
                if (isAdminPage) {
                    dayEl.style.cursor = 'pointer';
                    dayEl.onclick = () => toggleDay(key, dayEl);
                } else {
                    dayEl.style.cursor = 'default';
                }

                calendar.appendChild(dayEl);
            }
        }

        function toggleDay(key, element) {
            if (!isAdminPage) return; // no editar desde p√∫blico
            occupiedDays[key] = !occupiedDays[key];
            if (occupiedDays[key]) {
                element.classList.add('occupied');
                element.querySelector('.day-status').textContent = 'Ocupado';
            } else {
                delete occupiedDays[key];
                element.classList.remove('occupied');
                element.querySelector('.day-status').textContent = 'Libre';
            }
        }

        function changeCalendarMonth(delta) {
            currentMonth += delta;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            } else if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            document.getElementById('calendarAdminTitle').textContent = `${months[currentMonth]} ${currentYear}`;
            generateCalendarAdmin();
        }

        function saveCalendar() {
            if (!isAdminPage) return;
            try {
                localStorage.setItem('admin_occupiedDays', JSON.stringify(occupiedDays));
                alert('Calendario guardado exitosamente');
            } catch (e) {
                console.error(e);
                alert('Error al guardar el calendario.');
            }
        }

        function resetCalendar() {
            if (!isAdminPage) return;
            if (confirm('¬øEst√°s seguro de restablecer el calendario?')) {
                occupiedDays = {};
                localStorage.removeItem('admin_occupiedDays');
                generateCalendarAdmin();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadOccupiedDays();
            const months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 
                          'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            document.getElementById('calendarAdminTitle').textContent = `${months[currentMonth]} ${currentYear}`;
            generateCalendarAdmin();

            // Ocultar/inhabilitar controles en p√°ginas p√∫blicas
            if (!isAdminPage) {
                // botones con ids
                ['prevMonthAdmin','nextMonthAdmin','saveCalendarBtn','resetCalendarBtn'].forEach(id => {
                    const el = document.getElementById(id);
                    if (el) el.style.display = 'none';
                });

                // botones inline con onclick dentro del header del calendario
                document.querySelectorAll('#calendario button[onclick], .calendar-admin-header button[onclick], .calendar-header button[onclick]').forEach(btn => {
                    try { btn.removeAttribute('onclick'); btn.disabled = true; btn.style.cursor = 'default'; } catch(e){}
                });
            } else {
                // Si es admin, conectar controles si existen
                const p = document.getElementById('prevMonthAdmin'); if (p) p.addEventListener('click', () => changeCalendarMonth(-1));
                const n = document.getElementById('nextMonthAdmin'); if (n) n.addEventListener('click', () => changeCalendarMonth(1));
                const s = document.getElementById('saveCalendarBtn'); if (s) s.addEventListener('click', saveCalendar);
                const r = document.getElementById('resetCalendarBtn'); if (r) r.addEventListener('click', resetCalendar);
            }
        });
    </script>
</body>
</html>
